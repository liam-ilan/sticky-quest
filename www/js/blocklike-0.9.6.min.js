var blockLike=function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=6)}([function(e,t,s){"use strict";t.a=function(e){const t=e,s=e.element.el;e.backdrop?t.look=e.backdrop:t.look=e.costume,e.backdrops?t.looks=e.backdrops:t.looks=e.costumes,t.looks&&t.looks.forEach(e=>{e.cssRules.forEach(e=>{const t=e.prop.replace(/-([a-z])/g,e=>e[1].toUpperCase());s.style[t]=""})});t.look&&t.look.cssRules.forEach(e=>{const t=e.prop.replace(/-([a-z])/g,e=>e[1].toUpperCase());s.style[t]=e.value});t.cssRules.forEach(e=>{const t=e.prop.replace(/-([a-z])/g,e=>e[1].toUpperCase());s.style[t]=e.value})},t.b=function(e,t,s){const i=s;if("string"==typeof e&&"string"==typeof t){const s=e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`);i.cssRules.push({prop:s,value:t})}else"object"!=typeof e||t||Object.keys(e).forEach(t=>{const s=t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`);i.cssRules.push({prop:s,value:e[t]})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__rewriter__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1__element_css__=__webpack_require__(0);class Entity{constructor(e){Entity.messageListeners=[],this.id=this._generateUUID(),this.pace=e,this.sounds=[],this.paced=["goTo","move","changeX","changeY","setX","setY","goTowards","turnRight","turnLeft","pointInDirection","pointTowards","changeSize","setSize","say","think","refresh"],this.waited=["wait","glide","sayWait","thinkWait","playSoundUntilDone","broadcastMessageWait"],this.waitedReturned=["invoke","ask"]}_generateUUID(){let e,t;return e=(new Date).getTime(),window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>(t=(e+16*Math.random())%16|0,e=Math.floor(e/16),("x"===s?t:3&t|8).toString(16)))}_releaseWaited(e){const t=new window.CustomEvent(`blockLike.waited.${e}`,{detail:{value:0}});document.dispatchEvent(t)}_setToVar(varString,value){try{eval(`${varString} = '${value}'`)}catch(e){throw"BlockLike.js Error: Variables accepting a value must be declared in the global scope."}}_exec(e,t){return this.triggeringId=this._generateUUID(),Object(__WEBPACK_IMPORTED_MODULE_0__rewriter__.a)(e,this).apply(this,t)}invoke(e,t,s=null,i=null){let n=t;!(t instanceof Array)&&(n=[t]),this._exec(e,n).then(e=>{this._releaseWaited(i),s&&this._setToVar(s,e)})}wait(e,t=null){setTimeout(()=>{this._releaseWaited(t)},1e3*e)}whenLoaded(e){setTimeout(()=>{this._exec(e,[])},0)}whenFlag(e){const t=this;t.element&&(t.element.addFlag(this),this.element.flag.addEventListener("click",s=>{t.element.removeFlag(t),t._exec(e,[s]),s.stopPropagation()}))}whenClicked(e){const t=this;t.element&&this.element.el.addEventListener("click",s=>{t._exec(e,[s]),s.stopPropagation()})}whenKeyPressed(e,t){const s=this;let i;i="string"==typeof e?e.toLowerCase():e,document.addEventListener("keydown",e=>{let n=!1;e.code&&e.code.toLowerCase()===i&&(n=!0),e.key&&e.key.toLowerCase()===i&&(n=!0),e.keyCode===i&&(n=!0),n&&(s._exec(t,[e]),e.preventDefault())})}whenEvent(e,t){const s=this;s.element&&this.element.el.addEventListener(e,e=>{s._exec(t,[e]),e.stopPropagation()})}whenReceiveMessage(e,t){const s=this._generateUUID();Entity.messageListeners.push(s),document.addEventListener(e,e=>{this._exec(t,[e]).then(()=>{const t=e.detail.msgId,i=new window.CustomEvent("blockLike.donewheneeceivemessage",{detail:{msgId:t,listenerId:s}});document.dispatchEvent(i)})})}broadcastMessage(e){const t=this._generateUUID(),s=new window.CustomEvent(e,{detail:{msgId:t}});document.dispatchEvent(s)}broadcastMessageWait(e,t=null){const s=this,i=this._generateUUID();let n=Entity.messageListeners;const o=new window.CustomEvent(e,{detail:{msgId:i}});document.dispatchEvent(o),document.addEventListener("blockLike.donewheneeceivemessage",function e(o){o.detail.msgId===i&&(n=n.filter(e=>e!==o.detail.listenerId)),n.length||(document.removeEventListener("blockLike.donewheneeceivemessage",e),s._releaseWaited(t))})}playSound(e){const t=new window.Audio(e);t.play(),this.sounds.push(t),t.addEventListener("ended",()=>{this.sounds=this.sounds.filter(e=>e!==t)})}playSoundLoop(e){const t=new window.Audio(e);t.play(),this.sounds.push(t),t.addEventListener("ended",()=>{t.currentTime=0,t.play()})}playSoundUntilDone(e,t=null){const s=new window.Audio(e);s.play(),this.sounds.push(s),s.addEventListener("ended",()=>{this.sounds=this.sounds.filter(e=>e!==s),this._releaseWaited(t)})}stopSounds(){this.sounds.forEach(e=>{e.pause()}),this.sounds=[]}css(e,t=null){__WEBPACK_IMPORTED_MODULE_1__element_css__.b(e,t,this),this.element&&this.element.update(this)}addClass(e){!this.hasClass(e)&&this.classes.push(e),this.element&&this.element.update(this)}removeClass(e){this.classes=this.classes.filter(t=>t!==e),this.element&&this.element.update(this)}hasClass(e){return-1!==this.classes.indexOf(e)}}__webpack_exports__.a=Entity},function(e,t,s){"use strict";t.a=class i{constructor(e){this.context=e.element.context}draw(e){e.drawing&&(this.context.beginPath(),this.context.moveTo(e.stageWidth/2+e.x,e.stageHeight/2+-1*e.y),this.context.lineTo(e.stageWidth/2+e.prevX,e.stageHeight/2+-1*e.prevY),this.context.lineWidth=e.penSize,this.context.strokeStyle=e.penColor,this.context.stroke())}clear(e){this.context.clearRect(0,0,e.stageWidth,e.stageHeight)}}},function(e,t,s){"use strict";var i=s(0);t.a=class n{constructor(e,t){const s=document.createElement("div");s.id=`${e.id}`,s.style.position="absolute",s.style.touchAction="manipulation",t.element.el.appendChild(s),this.el=s}update(e){const t=e.element.el,s=e.x-e.width/2,n=-1*e.y-e.height/2;if(e.costume&&(t.style.width=`${e.costume.visibleWidth}px`,t.style.height=`${e.costume.visibleHeight}px`),t.style.left=`${e.stageWidth/2+s}px`,t.style.top=`${e.stageHeight/2+n}px`,t.style.zIndex=e.z,t.style.visibility=`${e.showing?"visible":"hidden"}`,1===e.rotationStyle&&(t.style.transform=`scaleX(${-1*(2*Math.floor(e.direction/180)-1)})`),0===e.rotationStyle&&(t.style.transform=`rotate(${(e.direction-90+360)%360}deg)`),(!e.costume||e.costume.color)&&(t.style.backgroundColor=""),i.a(e),e.costume?t.className=e.costume.classes.concat(e.classes).join(" "):t.className=e.classes.join(" "),e.costume&&e.costume.color&&(t.style.backgroundColor=e.costume.color),e.costume&&t.firstChild)e.costume.image?e.costume.image!==this.el.firstChild.src&&(this.el.firstChild.src=e.costume.image):t.removeChild(t.firstChild);else if(e.costume&&e.costume.image){const s=new window.Image;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.src=e.costume.image,t.appendChild(s)}e.costume&&e.costume.innerHTML&&(t.innerHTML=e.costume.innerHTML),e.textui&&e.textui.update(e),this.el=t}delete(e){const t=e.element.el;return t.parentNode.removeChild(t),null}addFlag(e){const t=e.element.flag;t.style.zIndex=1e3,t.style.display="block"}removeFlag(e){const t=e.element.flag;t.style.zIndex=-1,t.style.display="none"}}},function(e,t,s){"use strict";var i=s(0);t.a=class n{constructor(){this.cssRules=[],this.classes=[]}css(e,t=null){i.b(e,t,this)}addClass(e){!this.hasClass(e)&&this.classes.push(e)}removeClass(e){this.classes=this.classes.filter(t=>t!==e)}hasClass(e){return-1!==this.classes.indexOf(e)}}},function(e,t,s){"use strict";var i=s(4);t.a=class Costume extends i.a{constructor(e={}){const t=Object.assign({},{width:100,height:100,color:null},e);super(),this.width=t.width,this.height=t.height,this.visibleWidth=t.width,this.visibleHeight=t.height,this.image=t.image,this.color=t.color,this.image&&((new window.Image).src=this.image),this.innerHTML=""}addTo(e){const t=e;e.costumes.push(this),e.costume||(t.costume=e.costumes[0],t.width=e.costume.visibleWidth,t.height=e.costume.visibleHeight),e.element&&e.element.update(e)}removeFrom(e){e.removeCostume(this)}resizeToImage(){if(this.image){const e=new window.Image,t=this;e.src=this.image,e.addEventListener("load",()=>{t.width=e.width,t.height=e.height,t.visibleWidth=t.width,t.visibleHeight=t.height})}}inner(e){this.innerHTML=e}insert(e){const t=e.cloneNode(!0);t.style.display="block",t.style.visibility="visible",this.image=null,this.color="transparent",this.innerHTML=t.outerHTML}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(7),n=s(8),o=s(9),h=s(12),a=s(13),r=s(5);s.d(t,"Stage",function(){return o.a}),s.d(t,"Backdrop",function(){return h.a}),s.d(t,"Sprite",function(){return a.a}),s.d(t,"Costume",function(){return r.a}),function(){const e=document.createElement("style");e.type="text/css",e.innerHTML=`\n    ${i.b}\n\n \n    ${i.e}\n\n \n    ${i.d}\n\n \n    ${i.c} \n\n \n    ${i.a}`,document.getElementsByTagName("head")[0].appendChild(e),Object(n.a)()}()},function(e,t,s){"use strict";t.b="\n* { \n  box-sizing: border-box;\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-touch-callout:none;                /* prevent callout to copy image, etc when tap to hold */\n  -webkit-tap-highlight-color:rgba(0,0,0,0); /* prevent tap highlight color / shadow */\n}\nhtml, body{\n  margin:0;\n  padding:0;\n}\n";t.e="\n.blocklike-flag {\n  text-align: center;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 65px;\n  line-height: 65px;\n  padding: 32px;\n  color: #222;\n  background: #fafafa;\n  border: 2px solid #666;\n  border-radius: 65px;\n}\n";t.d='\n.blocklike-think {\n  position: absolute;\n  min-width: 60px;\n  max-width: 200px;\n  left: 200px;\n  padding: 10px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  min-height: 16px;\n  line-height: 16px;\n  text-align: left;\n  color: #222;\n  background: #fafafa;\n  border: 2px solid #444;\n  border-radius: 20px;\n}\n.blocklike-think:before {\n  position:absolute;\n  bottom: -30px;\n  left: 0px;\n  width: 30px;\n  height: 30px;\n  background: #fafafa;\n  border: 2px solid #444;\n  border-radius: 20px;\n  content: "";\n}\n.blocklike-think:after {\n  position: absolute;\n  bottom: -45px;\n  left: 0px;\n  width: 15px;\n  height: 15px;\n  background: #fafafa;\n  border: 2px solid #444;\n  border-radius: 15px;\n  content: "";\n}\n';t.c="\n.blocklike-ask,\n.blocklike-say {\n  position: absolute;\n  display: inline-block;\n  min-width: 60px;\n  max-width: 200px;\n  padding: 10px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  min-height: 16px;\n  line-height: 16px;\n  text-align: left;\n  background-color: #fafafa;\n  border: 2px solid #444;\n  border-radius: 20px;\n}\n.blocklike-ask:before,\n.blocklike-say:before {\n  content: ' ';\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 13px;\n  right: auto;\n  top: auto;\n  bottom: -33px;\n  border: 16px solid;\n  border-color: #444 transparent transparent #444;\n}\n.blocklike-ask:after,\n.blocklike-say:after {\n  content: ' ';\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 15px;\n  right: auto;\n  top: auto;\n  bottom: -28px;\n  border: 16px solid;\n  border-color: #fafafa transparent transparent #fafafa;\n}\n";t.a="\n.blocklike-ask input {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  padding: 2px;\n  margin: 2px;\n  width: 75%;\n}\n.blocklike-ask button {\n  font-size: 16px;\n  line-height: 16px;\n  height: 26px;\n  padding: 0 5px;\n  margin: 0;\n}\n"},function(e,t,s){"use strict";t.a=function(){window.CP&&(window.CP.PenTimer.MAX_TIME_IN_LOOP_WO_EXIT=6e4)}},function(e,t,s){"use strict";var i=s(1),n=s(11),o=s(2),h=s(3);t.a=class Stage extends i.a{constructor(e={}){const t={width:window.innerWidth,height:window.innerHeight,parent:document.body,pace:33,backdrop:null,marginTB:0},s=Object.assign({},t,e);s.parent===t.parent&&(s.marginTB=Math.floor((window.innerHeight-s.height)/2)),super(s.pace),this.backdrops=[],s.backdrop&&(this.backdrop=s.backdrop,this.backdrops.push(this.backdrop)),this.element=new n.a(s,this),this.width=s.width,this.height=s.height,this.keysCode=[],this.keysKey=[],this.keysKeyCode=[],this.mouseDown=null,this.mouseX=null,this.mouseY=null,this.sprites=[],this.cssRules=[],this.classes=[],s.sensing&&function(e){const t=e;t.sensing=!0,document.addEventListener("keydown",e=>{e.key&&-1===t.keysKey.indexOf(e.key.toLowerCase())&&t.keysKey.push(e.key.toLowerCase()),e.code&&-1===t.keysCode.indexOf(e.code.toLowerCase())&&t.keysCode.push(e.code.toLowerCase()),-1===t.keysKeyCode.indexOf(e.keyCode)&&t.keysKeyCode.push(e.keyCode)}),document.addEventListener("keyup",e=>{e.key&&(t.keysKey=t.keysKey.filter(t=>t!==e.key.toLowerCase())),e.code&&(t.keysCode=t.keysCode.filter(t=>t!==e.code.toLowerCase())),t.keysKeyCode=t.keysKeyCode.filter(t=>t!==e.keyCode)}),t.element.el.addEventListener("mousemove",e=>{t.mouseX=e.x-t.element.el.offsetLeft-t.width/2,t.mouseY=-e.y+t.element.el.offsetTop+t.height/2}),t.element.el.addEventListener("mousedown",()=>{t.mouseDown=!0}),t.element.el.addEventListener("mouseup",()=>{t.mouseDown=!1}),t.element.el.addEventListener("touchstart",()=>{t.mouseDown=!0}),t.element.el.addEventListener("touchend",()=>{t.mouseDown=!1})}(this),this.element.update(this)}delete(){this.element=this.element.delete(this)}addSprite(e){const t=e;t.element=new h.a(e,this),t.surface=new o.a(this),t.element.flag=this.element.flag,t.againstBackdrop=this.element.backdropContainer,t.stageWidth=this.width,t.stageHeight=this.height,this.sprites.push(t),t.z=this.sprites.length,e.element.update(t)}removeSprite(e){const t=e;this.sprites=this.sprites.filter(t=>t!==e),t.element&&(t.element=t.element.delete(t))}addBackdrop(e){this.backdrops.push(e),!this.backdrop&&(this.backdrop=this.backdrops[0]),this.element&&this.element.update(this)}switchBackdropTo(e){const t=this.backdrops.indexOf(e);-1!==t&&(this.backdrop=this.backdrops[t]),this.element&&this.element.update(this)}switchBackdropToNum(e){this.switchBackdropTo(this.backdrops[e])}nextBackdrop(){const e=this.backdrops.indexOf(this.backdrop);this.backdrop=this.backdrops[(e+1)%this.backdrops.length],this.element&&this.element.update(this)}removeBackdrop(e){if(this.backdrops.length>1){const t=this.backdrops.indexOf(e);this.backdrop===e&&(this.backdrop=this.backdrops[(t+1)%this.backdrops.length]),this.backdrops=this.backdrops.filter(t=>t!==e)}else this.backdrops=[],this.backdrop=null;this.element&&this.element.update(this)}removeBackdropNum(e){this.removeBackdrop(this.backdrops[e])}refresh(){this.element&&this.element.update(this)}_refreshSprites(){let e=0;this.sprites.forEach(t=>{const s=t;e+=1,s.z=e,s.element&&s.element.update(s)})}sendSpriteBackwards(e){const t=this.sprites.indexOf(e);t>0&&(this.sprites[t]=this.sprites[t-1],this.sprites[t-1]=e),this._refreshSprites()}sendSpriteForward(e){const t=this.sprites.indexOf(e);t<this.sprites.length-1&&(this.sprites[t]=this.sprites[t+1],this.sprites[t+1]=e),this._refreshSprites()}sendSpriteToFront(e){const t=this.sprites.indexOf(e);this.sprites.splice(t,1),this.sprites.push(e),this._refreshSprites()}sendSpriteToBack(e){const t=this.sprites.indexOf(e);this.sprites.splice(t,1),this.sprites.unshift(e),this._refreshSprites()}isKeyPressed(e){let t,s=!1;return t="string"==typeof e?e.toLowerCase():e,-1!==this.keysKey.indexOf(t)&&(s=!0),-1!==this.keysCode.indexOf(t)&&(s=!0),-1!==this.keysKeyCode.indexOf(t)&&(s=!0),!this.sensing&&console.log("BlockLike.js Notice: isKeyPressed() ingnored. Stage sensing not enabled."),s}}},function(e,t,s){"use strict";t.a=function(e,t){let s=e.toString();const i=(n=s,n.substring(n.indexOf("(")+1,n.indexOf(")")));var n;s=function(e){const t=e.replace(/\s+/g,"").replace(/\r?\n|\r/g,"");return!!/while\([\s\S]*\){}|for\([\s\S]*\){}|do{}while\([\s\S]*\)/.exec(t)}(s)?"throw 'BlockLike.js Error: Empty loop detected';":(s=(s=(s=function(e){return e.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"")}(function(e){return e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))}(s))).split("\n").filter(e=>""!==e)).map(e=>{const s=e;let i=s;return i===s&&(i=function(e,t){let s=!1,i=t.paced.length;for(;i&&(i-=1,-1!==e.indexOf(`.${t.paced[i]}(`)&&(s=!0),!s););return s?`${e}\n await new Promise(resolve => setTimeout(resolve, ${t.pace}));`:e}(s,t)),i===s&&(i=function(e,t){let s,i,n=null;i=t.waited.length;for(;i&&(i-=1,-1!==e.indexOf(`.${t.waited[i]}(`)&&(n=t.waited[i]),!n););if(n)s=`${e.substring(0,e.lastIndexOf(")"))}, '${t.triggeringId}')`;else{let o=null;for(i=t.waitedReturned.length;i&&(i-=1,-1!==e.indexOf(`.${t.waitedReturned[i]}(`)&&(n=t.waitedReturned[i]),!n););o=e.substr(0,e.indexOf("=")).replace("let","").replace("var","").trim(),s=`${e.substring(0,e.lastIndexOf(")"))}, '${o}', '${t.triggeringId}')`,"invoke"===n&&-1===e.indexOf(",")&&(s=`${e.substring(0,e.lastIndexOf(")"))}, [], '${o}', '${t.triggeringId}')`)}return s=`\n    ${s}\n \n    await new Promise(resolve => {\n      document.addEventListener('blockLike.waited.${t.triggeringId}', function waitedListener(e) {\n        document.removeEventListener('blockLike.waited.${t.triggeringId}', waitedListener);\n        resolve();\n      });\n    });\n    `,n?s:e}(s,t)),i===s&&(i=function(e){const t=e.indexOf("async "),s=/function |function\(|function( |\t)\(/.exec(e);return-1===t&&s?`${e.substring(0,s.index)} async ${e.substring(s.index,e.length)}`:e}(s)),i})).join("\n");const o=Object.getPrototypeOf(async()=>{}).constructor;let h=new o(s);return i&&(h=new o(i,s)),window.blockLike&&window.blockLike.debug&&console.log(h),h}},function(e,t,s){"use strict";var i=s(0);t.a=class n{constructor(e,t){const s=document.createElement("div");function i(t){const s=document.createElement("div");return s.style.width=`${e.width}px`,s.style.height=`${e.height}px`,s.style.zIndex=t,s.style.position="absolute",s.style.touchAction="manipulation",s}function n(t){const s=document.createElement("canvas");return s.width=e.width,s.height=e.height,s.style.zIndex=t,s.style.position="absolute",s.style.left="0px",s.style.top="0px",s}s.id=`${t.id}`,s.style.width=`${e.width}px`,s.style.height=`${e.height}px`,s.style.margin=`${e.marginTB}px auto`,s.style.position="relative",s.style.boxSizing="border-box",s.style.overflow="hidden",e.parent.appendChild(s),this.backdropContainer=n(0),this.backdropContainer.id=`${t.id}-backdrop`,this.backdropContainer.className="blocklike-panel-backdrop",s.appendChild(this.backdropContainer),this.canvas=n(0),this.canvas.id=`${t.id}-surface`,this.canvas.className="blocklike-panel-surface",s.appendChild(this.canvas),this.el=i(0),this.el.id=`${t.id}-container`,this.el.className="blocklike-panel-container",s.appendChild(this.el),this.flag=function(){const t=i(-1),s=document.createElement("div");return s.style.width="130px",s.style.height="130px",s.style.position="absolute",s.innerHTML="&#9873;",s.style.left=`${e.width/2-65}px`,s.style.top=`${e.height/2-65}px`,s.className="blocklike-flag",t.appendChild(s),t.style.display="none",t}(),this.flag.id=`${t.id}-flag`,this.flag.className="blocklike-panel-flag",s.appendChild(this.flag),this.context=this.canvas.getContext("2d"),this.el=s}update(e){const t=e.element.el,s=e.element.backdropContainer.getContext("2d");if(e.backdrop&&e.backdrop.color?(s.rect(0,0,e.width,e.height),s.fillStyle=e.backdrop.color,s.fill()):s.clearRect(0,0,e.width,e.height),e.backdrop&&e.backdrop.image){const t=new Image;t.onload=(()=>{s.drawImage(t,0,0,e.width,e.height)}),t.src=e.backdrop.image}i.a(e),e.backdrop?t.className=e.backdrop.classes.concat(e.classes).join(" "):t.className=e.classes.join(" ")}delete(e){const t=e.element.el;return t.parentNode.removeChild(t),null}addFlag(e){const t=e.element.flag;t.style.zIndex=1e3,t.style.display="block"}removeFlag(e){const t=e.element.flag;t.style.zIndex=-1,t.style.display="none"}}},function(e,t,s){"use strict";var i=s(4);t.a=class Backdrop extends i.a{constructor(e={}){const t=Object.assign({},{},e);super(),this.image=t.image,this.color=t.color,this.image&&((new window.Image).src=this.image)}addTo(e){const t=e;e.backdrops.push(this),!e.backdrop&&(t.backdrop=e.backdrops[0]),e.element&&e.element.update(e)}removeFrom(e){e.removeBackdrop(this)}}},function(e,t,s){"use strict";var i=s(1),n=s(2),o=s(3),h=s(5),a=s(14);class Sprite extends i.a{constructor(e={}){const t={pace:33};let s={};if(super((s="object"==typeof e?Object.assign({},t,e):t).pace),this.costumes=[],"string"==typeof e){s.costume=new h.a({image:e,width:0,height:0});const t=new window.Image,i=s.costume;t.src=e,t.addEventListener("load",()=>{i.originalWidth=t.width,i.originalHeight=t.height,i.width=i.originalWidth,i.height=i.originalHeight,this.refresh()})}if(void 0===s.costume&&null!==e){const e={};s.width&&(e.width=s.width),s.height&&(e.height=s.height),s.color&&(e.color=s.color),void 0!==s.image?e.image=s.image:e.image="data:image/png;base64,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",s.costume=new h.a(e)}s.costume&&(this.costume=s.costume),this.costume&&this.costumes.push(this.costume),this.costume?this.width=this.costume.visibleWidth:this.width=0,this.costume?this.height=this.costume.visibleHeight:this.height=0,this.x=0,this.y=0,this.z=0,this.prevX=0,this.prevY=0,this.showing=!0,this.direction=90,this.magnification=100,this.rotationStyle=0,this.textui=null,this.drawing=!1,this.penColor="#222222",this.penSize=1,this.cssRules=[],this.classes=[]}addTo(e){this.stageWidth=e.width,this.stageHeight=e.height,this.element=new o.a(this,e),this.surface=new n.a(e),this.element.flag=e.element.flag,this.againstBackdrop=e.element.backdropContainer,e.sprites.push(this),this.z=e.sprites.length,this.element.update(this)}clone(){const e=new Sprite,t=e.id,s=Object.assign(e,this);s.id=t,s.element=null,s.surface=null,s.cssRules=JSON.parse(JSON.stringify(this.cssRules)),s.classes=this.classes.slice();const i=this.costumes.indexOf(this.costume);s.costumes=this.costumes.map(e=>{const t=new h.a,s=Object.assign(t,e);return s.cssRules=JSON.parse(JSON.stringify(e.cssRules)),s.classes=e.classes.slice(),s}),s.costume=s.costumes[i];const n=new window.CustomEvent(`blockLike.spritecloned.${this.id}`,{detail:s});return document.dispatchEvent(n),s}removeFrom(e){e.sprites=e.sprites.filter(e=>e!==this),this.element&&(this.element=this.element.delete(this))}whenCloned(e){document.addEventListener(`blockLike.spritecloned.${this.id}`,t=>{t.detail._exec(e,[]),t.stopPropagation()})}_motion(e,t){this.prevX=this.x,this.prevY=this.y,this.x=e,this.y=t,this.element&&this.element.update(this),this.surface&&this.surface.draw(this)}glide(e,t,s,i=null){let n=0;const o=this,h=1e3/this.pace,a=(t-this.x)/(e*h),r=(s-this.y)/(e*h),l=setInterval(()=>{n+=1,o._motion(o.x+a,o.y+r),n/h>=e&&(clearInterval(l),o._motion(t,s),o._releaseWaited(i))},this.pace)}move(e){function t(e){return e*(Math.PI/180)}const s=Math.round(Math.cos(t(this.direction-90))*e),i=Math.round(Math.sin(t(this.direction+90))*e);this._motion(this.x+s,this.y+i)}goTo(e,t){this._motion(e,t)}goTowards(e){this._motion(e.x,e.y)}setX(e){this._motion(e,this.y)}setY(e){this._motion(this.x,e)}changeX(e){this._motion(this.x+e,this.y)}changeY(e){this._motion(this.x,this.y+e)}pointInDirection(e){this.direction=e>0?e%360:(e+3600)%360,this.element&&this.element.update(this)}pointTowards(e){this.direction=function(e,t,s,i){let n=(Math.atan((e-s)/(t-i))*(180/Math.PI)+90*(Math.sign(t-i)+1)+360)%360;return t-i==0&&(n+=90),n}(this.x,this.y,e.x,e.y),this.element&&this.element.update(this)}turnRight(e){this.direction=(this.direction+e)%360,this.element&&this.element.update(this)}turnLeft(e){this.direction=(this.direction+360-e)%360,this.element&&this.element.update(this)}setRotationStyle(e){let t=e;"no"===e&&(t=2),"left-right"===e&&(t=1),"all"===e&&(t=0),this.rotationStyle=t}_refreshCostume(){this.costume&&(this.width=this.costume.visibleWidth,this.height=this.costume.visibleHeight),this.element&&this.element.update(this)}addCostume(e){this.costumes.push(e),this.costume||(this.costume=this.costumes[0],this.width=this.costume.visibleWidth,this.height=this.costume.visibleHeight),this.element&&this.element.update(this)}switchCostumeTo(e){const t=this.costumes.indexOf(e);-1!==t&&(this.costume=this.costumes[t]),this._refreshCostume()}switchCostumeToNum(e){this.switchCostumeTo(this.costumes[e])}nextCostume(){const e=this.costumes.indexOf(this.costume);this.costume=this.costumes[(e+1)%this.costumes.length],this._refreshCostume()}removeCostume(e){if(this.costumes.length>1){const t=this.costumes.indexOf(e);this.costume===e&&(this.costume=this.costumes[(t+1)%this.costumes.length]),this.costumes=this.costumes.filter(t=>t!==e)}else this.costumes=[],this.costume=null;this._refreshCostume()}removeCostumeNum(e){this.removeCostume(this.costumes[e])}show(){this.showing=!0,this.element&&this.element.update(this)}hide(){this.showing=!1,this.element&&this.element.update(this)}refresh(){const e=this;setTimeout(()=>{e.setSize(e.magnification),e.element&&e.element.update(e)},this.pace)}resizeToImage(){this.costume&&this.costume.resizeToImage(),this.refresh()}inner(e){this.costume.inner(e),this.element&&this.element.update(this)}insert(e){this.costume.insert(e),this.element&&this.element.update(this)}_refreshSize(){function e(e,t){return Math.round(e*10**t)/10**t}this.width=e(this.costume.width*(this.magnification/100),2),this.height=e(this.costume.height*(this.magnification/100),2),this.costumes.forEach(t=>{const s=t;s.visibleWidth=e(s.width*(this.magnification/100),2),s.visibleHeight=e(s.height*(this.magnification/100),2)}),this.costume.visibleWidth=this.width,this.costume.visibleHeight=this.height,this.element&&this.element.update(this)}changeSize(e){this.magnification=this.magnification+e,this._refreshSize()}setSize(e){this.magnification=e,this._refreshSize()}think(e){this.element&&(this.textui&&(this.textui=this.textui.delete(this)),void 0!==e&&e.toString()&&(this.textui=new a.a(this,"think",e)))}thinkWait(e,t,s=null){setTimeout(()=>{this.think(""),this._releaseWaited(s)},1e3*t),this.think(e)}say(e){this.element&&(this.textui&&(this.textui=this.textui.delete(this)),void 0!==e&&e.toString()&&(this.textui=new a.a(this,"say",e)))}sayWait(e,t,s=null){setTimeout(()=>{this.say(""),this._releaseWaited(s)},1e3*t),this.say(e)}ask(e,t=null,s=null){const i=this;i.askId=this._generateUUID(),this.element&&(this.textui&&(this.textui=this.textui.delete(this)),void 0!==e&&e.toString()&&(this.textui=new a.a(i,"ask",e)),document.addEventListener(`blockLike.ask.${this.id}.${i.askId}`,function e(n){document.removeEventListener(`blockLike.ask.${i.id}.${i.askId}`,e),i._releaseWaited(s),t&&i._setToVar(t,n.detail.value),i.textui&&(i.textui=i.textui.delete(i))}))}penClear(){this.surface.clear(this)}penDown(){this.drawing=!0,this.prevX=this.x,this.prevY=this.y,this.surface.draw(this)}penUp(){this.drawing=!1,this.surface.draw(this)}setPenColor(e){this.penColor=e}setPenSize(e){this.penSize=e}changePenSize(e){this.penSize=this.penSize+e}distanceTo(e,t){const s=this.x-e,i=this.y-t;return Math.sqrt(s*s+i*i)}touchingEdge(){let e=null;return this.x+this.width/2>this.stageWidth/2&&(e="right"),this.x-this.width/2<this.stageWidth/2*-1&&(e="left"),this.y+this.height/2>this.stageHeight/2&&(e="top"),this.y-this.height/2<this.stageHeight/2*-1&&(e="bottom"),e}isTouchingEdge(){return!!this.touchingEdge()}touching(e){let t=null;return this.x+this.width/2>e.x-e.width/2&&this.x-this.width/2<e.x+e.width/2&&this.y+this.height/2>e.y-e.height/2&&this.y-this.height/2<e.y+e.height/2&&(this.x>=e.x&&(t="left"),this.x<e.x&&(t="right"),this.y>e.y&&Math.abs(this.y-e.y)>Math.abs(this.x-e.x)&&(t="bottom"),this.y<e.y&&Math.abs(this.y-e.y)>Math.abs(this.x-e.x)&&(t="top")),t}isTouching(e){return!!this.touching(e)}touchingBackdropColor(){const e=[];try{const n=this.againstBackdrop.getContext("2d").getImageData(this.stageWidth/2-this.width/2+this.x,this.stageHeight/2-this.height/2-this.y,this.width,this.height).data;for(let o=0;o<n.length;o+=4)0!==n[o+3]&&e.push((t=n[o],s=n[o+1],i=n[o+2],`#${((1<<24)+(t<<16)+(s<<8)+i).toString(16).slice(1)}`))}catch(e){console.log("BlockLike.js Notice: isTouchingBackdropColor() ingnored. Backdrop image can not be located at a remote origin.")}var t,s,i;return Array.from(new Set(e))}isTouchingBackdropColor(e){return this.touchingBackdropColor(e).includes(e)}}t.a=Sprite},function(e,t,s){"use strict";t.a=class i{constructor(e,t,s){const i=document.createElement("div");this.text=s.toString(),this.type=t;const n=e.x-e.width/2,o=-1*e.y-e.height/2;i.style.position="absolute",i.innerHTML=`${s}<br />`,i.style.left=`${e.stageWidth/2+n+.6*e.width}px`,i.style.top=`${e.stageHeight/2+o-80-16*Math.floor(this.text.length/30)}px`,i.style.zIndex=e.z,i.className=`blocklike-${t}`;let h=null;"ask"===t&&(h=function(){function t(t){const s=new window.CustomEvent(`blockLike.ask.${e.id}.${e.askId}`,{detail:{value:t,askId:e.askId}});document.dispatchEvent(s)}const s=document.createElement("input");s.addEventListener("keydown",e=>{13===e.keyCode&&(t(s.value),s.value="")}),i.appendChild(s);const n=document.createElement("button");return n.innerHTML="&#x2713",n.addEventListener("click",()=>{t(s.value),s.value=""}),i.appendChild(n),s}(),i.style.top=`${e.stageHeight/2+o-110-16*Math.floor(this.text.length/30)}px`),e.element.el.parentNode.insertBefore(i,e.element.el),h&&h.focus(),i.style.visibility=`${e.showing?"visible":"hidden"}`,this.el=i}update(e){const t=e.textui.el,s=e.x-e.width/2,i=-1*e.y-e.height/2;t.style.left=`${e.stageWidth/2+s+.6*e.width}px`,t.style.top=`${e.stageHeight/2+i-80-16*Math.floor(this.text.length/30)}px`,"ask"===e.textui.type&&(t.style.top=`${e.stageHeight/2+i-110-16*Math.floor(this.text.length/30)}px`),t.style.visibility=`${e.showing?"visible":"hidden"}`}delete(e){const t=e.textui.el;return t.parentNode.removeChild(t),null}}}]);